(function(e){function t(t){for(var r,c,l=t[0],s=t[1],u=t[2],d=0,f=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);o&&o(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/simon-the-game-vuejs/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var o=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0e70":function(e,t,n){"use strict";n("88e8")},"1d96":function(e,t,n){e.exports=n.p+"media/green.d2c4a2c4.mp3"},"2b48":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function i(e,t,n,i,a,c){var l=Object(r["j"])("Game");return Object(r["h"])(),Object(r["c"])(l)}var a={class:"game"},c={class:"field"},l={class:"tiles"},s={class:"rounds"},u=Object(r["e"])("section",{class:"scores"},null,-1),o={class:"settings"},d=Object(r["e"])("h3",{class:"small-title"},"Сложность",-1),f={class:"difficulty-list"},p=["value","id"],m=["for"];function b(e,t,n,i,b,h){var v=this,g=Object(r["j"])("Tile");return Object(r["h"])(),Object(r["d"])("div",a,[Object(r["e"])("section",c,[Object(r["e"])("ul",l,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(b.tiles,(function(e,t){return Object(r["h"])(),Object(r["d"])("li",{key:t,class:"tile"},[Object(r["f"])(g,{indx:t,color:e.color,file:e.file,ref:v.setTileRef,disabled:b.game.isDisabled,onClick:h.handleTileClick},null,8,["indx","color","file","disabled","onClick"])])})),128))]),Object(r["e"])("h2",s,"Раунд: "+Object(r["k"])(b.game.round),1),Object(r["e"])("button",{class:"btn",onClick:t[0]||(t[0]=function(){return h.startGame&&h.startGame.apply(h,arguments)})},"Start"),Object(r["n"])(Object(r["e"])("h3",{class:"result"},"Вы проиграли после "+Object(r["k"])(b.game.round)+" раундов!",513),[[r["m"],b.game.isOver]])]),u,Object(r["e"])("section",o,[d,Object(r["e"])("ul",f,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["i"])(b.dificultyLevels,(function(e,n){return Object(r["h"])(),Object(r["d"])("li",{key:n,class:"difficulty-item"},[Object(r["n"])(Object(r["e"])("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=function(e){return b.settings.difficulty=e}),value:e.value,id:e.value,class:"difficulty-radio-input"},null,8,p),[[r["l"],b.settings.difficulty]]),Object(r["e"])("label",{for:e.value},Object(r["k"])(e.label),9,m)])})),128))])])])}var h=n("b85c"),v=n("1da1");n("96cf"),n("d3b7");function g(e,t,n,i,a,c){return Object(r["h"])(),Object(r["d"])("input",{type:"button",class:Object(r["g"])(c.tileClasses),onClick:t[0]||(t[0]=function(){return c.handleClick&&c.handleClick.apply(c,arguments)}),ref:"tile"},null,2)}n("a9e3");var O={name:"Tile",props:{indx:{type:Number,required:!0},file:{type:String,required:!0},color:{type:String,required:!0}},data:function(){return{sound:null}},created:function(){var e=n("ac03")("./"+this.file);this.sound=new Audio(e)},computed:{tileClasses:function(){return["tile",this.color]}},methods:{play:function(){var e=this;this.sound.play(),this.$refs.tile.classList.add("active"),setTimeout((function(){e.$refs.tile.classList.remove("active")}),400)},handleClick:function(){this.play(),this.$emit("click",this.indx)}}};n("5a6c");O.render=g,O.__scopeId="data-v-23b2063c";var j=O,y={name:"Game",components:{Tile:j},data:function(){return{game:{isOver:!1,tileRefs:[],round:0,current:0,sequence:[],currentTile:null,isDisabled:!0},settings:{difficulty:"easy"},dificultyLevels:{easy:{value:"easy",label:"Легко",interval:1500},medium:{value:"medium",label:"Средне",interval:1e3},hard:{value:"hard",label:"Сложно",interval:400}},tiles:[{color:"red",file:"red.mp3"},{color:"green",file:"green.mp3"},{color:"blue",file:"blue.mp3"},{color:"yellow",file:"yellow.mp3"}]}},methods:{getInterval:function(){return this.dificultyLevels[this.settings.difficulty].interval},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},setTileRef:function(e){e&&this.game.tileRefs.push(e)},startGame:function(){this.game.isDisabled=!1,this.resetGameProgress(),this.makeStep()},resetGameProgress:function(){this.game.round=0,this.game.isOver=!1,this.game.sequence=[],this.game.currentTile=null},makeStep:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.game.round++,e.game.current=0,n=e.generateNextTile(),e.game.currentTile=n,e.game.sequence.push(n),r=Object(h["a"])(e.game.sequence),t.prev=6,r.s();case 8:if((i=r.n()).done){t.next=15;break}return a=i.value,e.game.tileRefs[a].play(),t.next=13,e.sleep(e.getInterval());case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](6),r.e(t.t0);case 20:return t.prev=20,r.f(),t.finish(20);case 23:e.game.isDisabled=!1;case 24:case"end":return t.stop()}}),t,null,[[6,17,20,23]])})))()},generateNextTile:function(){var e;do{e=Math.round(3*Math.random())}while(e===this.game.currentTile);return e},handleTileClick:function(e){if(this.game.isOver&&(this.game.isDisabled=!0),e<4){var t=this.game.sequence[this.game.current];e===t?this.addCurrent():this.game.isOver=!0}},addCurrent:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.game.current===e.game.round-1){t.next=4;break}e.game.current++,t.next=8;break;case 4:return e.game.isDisabled=!0,t.next=7,e.sleep(1e3);case 7:e.makeStep();case 8:case"end":return t.stop()}}),t)})))()}}};n("0e70");y.render=b;var k=y,x={name:"App",components:{Game:k}};n("d3ee");x.render=i;var w=x,T=Object(r["b"])(w);T.mount("#app"),T.config.devtools=!0},"5a6c":function(e,t,n){"use strict";n("ecae")},"88e8":function(e,t,n){},ac03:function(e,t,n){var r={"./blue.mp3":"dacc","./green.mp3":"1d96","./red.mp3":"fdb1","./yellow.mp3":"c2c2"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="ac03"},c2c2:function(e,t,n){e.exports=n.p+"media/yellow.99e50f7d.mp3"},d3ee:function(e,t,n){"use strict";n("2b48")},dacc:function(e,t,n){e.exports=n.p+"media/blue.c1c96b44.mp3"},ecae:function(e,t,n){},fdb1:function(e,t,n){e.exports=n.p+"media/red.36d5a722.mp3"}});
//# sourceMappingURL=app.bb81cab7.js.map